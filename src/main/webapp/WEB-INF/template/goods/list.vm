
#set($title="商品管理")
<script src="#springUrl('/static/js/bootstrap-suggest.js')"></script>

<form id="goodsSearchId" action="#springUrl('/goods/search')" method="POST">
  <div class="filter-bar-sm" >
    <div class="filter-content">
      <select class="form-control" id="isDisable1" name="isDisabled">
        <option #if(${isDisabled}=='A') selected="selected" #end value='A'>是否有效</option>
        <option #if(${isDisabled}=='F') selected="selected" #end value='F'>有效</option>
        <option #if(${isDisabled}=='T') selected="selected" #end value='T'>无效</option>
      </select>
    </div>
    <input type="hidden" name="currentPage" value="1" />
    <div class="filter-content">
      <div class="form-group">
          <input type="text" name="sName"  class="form-control"
            #if($sName) value="${sName}" #end
           placeholder="商品名称" />
      </div>
    </div>
    <div class="filter-content">
      <div class="form-group">
        <button type="submit" class="btn btn-default">查询</button>
      </div>
    </div>

    <div class="filter-content-right ">
      <div class="form-group">
        <button type="button" class="btn btn-default">导出</button>
      </div>
    </div>

    <div class="filter-content-right ">
      <div class="form-group">
        <button type="button" class="btn btn-default">导入</button>
      </div>
    </div>

  </div>
</form>

<hr/>

<div class="panel panel-default">
  <div class="panel-heading"><a href="#goodsModal" id="goodsAdd" data-toggle="modal"><i class="glyphicon glyphicon-folder-close"></i>添加</a></div>
  <table class="table table-striped">
    <thead>
      <tr>
        <th>ID</th>
        <th>商品名称</th>
        <th>供应商名称</th>
        <th>长(mm)</th>
        <th>宽(mm)</th>
        <th>高(mm)</th>
        <th>重(g)</th>
        <th>供应商编号</th>
        <th>数量</th>
        <th>状态</th>
        <th>创建时间</th>
        <th>修改删除</th>
      </tr>
    </thead>
    <tbody>
      #foreach( $goods in $paginationGoods.getResultList() )
      <tr id="${goods.gId}_tr">
        <th>${goods.gId}</th>
        <td>${goods.name}</td>
        <td>$supplierMap.get(${goods.sId})</td>
        <td>${goods.length}</td>
        <td>${goods.width}</td>
        <td>${goods.height}</td>
        <td>${goods.weight}</td>
        <td>${goods.gIdSupplier}</td>
        <td>${goods.amount}</td>
        <td value="${goods.isDisabled}">
          <span class="mini-label #if(${goods.isDisabled}=='F') mini-label-primary #else mini-label-default #end">
            #if(${goods.isDisabled}=='F') 有效 #else 无效 #end
          </span>
        </td>
        <td>${goods.insertDt}</td>
        <td>
          <a href="#goodsModal" id="goodsEdit" onclick="goodsEdit(${goods.sId},'$goods.isDisabled')" data-toggle="modal"
          class="easyui-linkbutton" data-options="iconCls:'icon-edit',plain:true"> </a>
          <a href="javascript:deletegoods(${goods.sId},'$goods.name')" class="easyui-linkbutton" data-options="iconCls:'icon-clear',plain:true"> </a>
        </td>
      </tr>
      #end
    </tbody>
  </table>
</div>

<br/>
<div class="row">
                <div class="col-lg-3">
                    <div class="input-group">
                        <input type="text" class="form-control" id="test">
                        <div class="input-group-btn">
                            <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
                                <span class="caret"></span>
                            </button>
                            <ul class="dropdown-menu dropdown-menu-right" role="menu">
                            </ul>
                        </div>
                        <!-- /btn-group -->
                    </div>
                </div>
            </div>

<script type="text/javascript">
    var testBsSuggest = $("#test").bsSuggest({
        url: "../supplier/getSupplierName?name=",
        idField: "sId",
        keyField: "name"
    }).on('onDataRequestSuccess', function (e, result) {
    	console.log('onDataRequestSuccess: ', result);
    }).on('onSetSelectValue', function (e, keyword) {
    	console.log('onSetSelectValue: ', keyword);
    }).on('onUnsetSelectValue', function (e) {
    	console.log("onUnsetSelectValue");
    });
</script>
